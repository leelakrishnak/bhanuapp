(this.webpackJsonpbhanuapp=this.webpackJsonpbhanuapp||[]).push([[0],{156:function(e,t,a){e.exports=a(266)},161:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),l=(a(161),a(52)),i=a(53),s=a(55),u=a(54),d=a(121),m=a.n(d);var f=a(268),h=a(154),p=a(267),v=a(102),y=(a(94),a(269)),g=a(77),E=y.a.Search,b=g.a.Option,O=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filters:{}},e.handleChange=function(t){console.log("selected ".concat(t));var a=e.state.filters;a.sortBy=t,e.setState({filters:a})},e.onSearch=function(t){console.log(t);var a=e.state.filters;a.search=t.toLowerCase(),e.setState({filters:a})},e.filterData=function(t){var a=e.state.filters,n=void 0===a?{}:a;return n.search&&(t=t.filter((function(e){return e.name.toLowerCase().includes(n.search)}))),n.sortBy&&("folders"===n.sortBy?t=t.sort((function(e,t){return(t.isDir?1:0)-(e.isDir?1:0)})):"files"===n.sortBy?t=t.sort((function(e,t){return(t.isDir?0:1)-(e.isDir?0:1)})):"atoz"===n.sortBy&&(t=t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})))),console.log(n,t),t},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.filterData(this.props.data);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"filter-container"},r.a.createElement(g.a,{size:"large",placeholder:"Sort By",style:{width:200},onChange:this.handleChange},r.a.createElement(b,{value:"files"},"Files First"),r.a.createElement(b,{value:"folders"},"Folders First"),r.a.createElement(b,{value:"atoz"},"A to Z")),r.a.createElement(E,{placeholder:"Input File or Folder name",enterButton:"Search",allowClear:!0,size:"large",onSearch:this.onSearch})),this.props.children({files:e}))}}]),a}(n.Component),k=a(97),w=a(75),C=a(101),D=a(128),j=a.n(D);function S(e){return e&&e.length>50?"".concat(e.slice(0,50)," ..."):e}var B=f.a.Text,F=f.a.Link,I=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickFolder=function(t){var a=t.path;e.props.folderClicked(a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement(p.b.Item,null,r.a.createElement(C.a,{placement:"topLeft",title:t.path},r.a.createElement("div",{className:"file-item"},t.isDir?r.a.createElement("span",null," ",r.a.createElement(F,{onClick:function(){return e.onClickFolder(t)}},r.a.createElement(w.Icon,{icon:k.folderOpen})," ",S(t.name)," ")):r.a.createElement("span",null," ",r.a.createElement(w.Icon,{icon:k.file})," ",S(t.name)," "),r.a.createElement(B,{type:"secondary"},j()(t.createdOn).format("YYYY-MM-DD hh:mm")),r.a.createElement(B,{type:"secondary"},t.size," bytes"))))}}]),a}(n.Component),x=a(147),z=f.a.Text,A=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).goBack=function(){var e=n.state.cwd;"/"===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),-1!==e.lastIndexOf("/")&&(e=e.substr(0,e.lastIndexOf("/")+1),n.getData({directory:e}),n.setState({cwd:e}))},n.folderClicked=function(e){n.setState({cwd:e}),n.getData({directory:e})},n.getData=function(e){n.setState({loading:!0}),function(e){return m.a.get("".concat("http://localhost:5002/api","/listfiles"),{params:e})}(e).then((function(e){n.setState({data:e.data})})).catch((function(e){console.log(e),h.b.error("Failed to fetch data")})).finally((function(){n.setState({loading:!1})}))},n.state={data:[],loading:!0,homeDirectory:"/",cwd:"/"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;this.getData({directory:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data,o=t.cwd;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-container"},r.a.createElement(O,{data:n},(function(t){var n=t.files;return r.a.createElement(p.b,{size:"small",header:r.a.createElement("div",null,r.a.createElement(v.a,{shape:"circle",onClick:e.goBack,icon:r.a.createElement(w.Icon,{icon:x.angleDoubleUp}),style:{marginRight:"5px"}}),r.a.createElement(z,{type:"secondary"},"Current Directory: ",o)),bordered:!0,loading:a,dataSource:n,locale:{emptyText:"Directory is empty"},renderItem:function(t){return r.a.createElement(I,{item:t,folderClicked:e.folderClicked})}})}))))}}]),a}(n.Component),L=a(148),Y=a(27),M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,{path:"/:directory?",component:A}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(265);c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){}},[[156,1,2]]]);
//# sourceMappingURL=main.e2dfc4b8.chunk.js.map