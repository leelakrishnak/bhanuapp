{"ast":null,"code":"var _jsxFileName = \"/Users/leelakrishnak/bhanuapp/src/ListFiles.jsx\";\nimport React, { Component } from 'react';\nimport { getAllFiles } from './api';\nimport { List, message, Typography, Button } from 'antd';\nimport './listfiles.css';\nimport Filters from './Filters';\nimport ListFileItem from './ListFileItem';\nimport { angleDoubleUp } from 'react-icons-kit/fa/angleDoubleUp';\nimport { Icon } from 'react-icons-kit';\nconst {\n  Text\n} = Typography;\n\nclass ListFiles extends Component {\n  constructor(props) {\n    super(props);\n\n    this.goBack = () => {\n      console.log('GO BACK GO BACK', this.props);\n      this.props.history.goBack();\n      this.props.location.pathname = this.props.history.location.pathname; //  window.location.reload();\n    };\n\n    this.getData = args => {\n      this.setState({\n        loading: true\n      });\n      getAllFiles(args).then(response => {\n        console.log(response);\n        this.setState({\n          data: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n        message.error('Failed to fetch data');\n      }).finally(() => {\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.state = {\n      data: [],\n      loading: true,\n      homeDirectory: '/',\n      currentDirectory: '/'\n    };\n  }\n\n  componentDidMount() {\n    const {\n      location: {\n        pathname\n      }\n    } = this.props;\n    this.getData({\n      directory: pathname\n    });\n  }\n\n  render() {\n    const {\n      loading,\n      data\n    } = this.state;\n    console.log(this.props);\n    const {\n      location: {\n        pathname\n      }\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Filters, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, ({\n      files\n    }) => {\n      return /*#__PURE__*/React.createElement(List, {\n        size: \"small\",\n        header: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          shape: \"circle\",\n          onClick: this.goBack,\n          icon: /*#__PURE__*/React.createElement(Icon, {\n            icon: angleDoubleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 31\n            }\n          }),\n          style: {\n            marginRight: '5px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 23\n          }\n        }), /*#__PURE__*/React.createElement(Text, {\n          type: \"secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 23\n          }\n        }, \"Current Directory: \", pathname)),\n        bordered: true,\n        loading: loading,\n        dataSource: files,\n        locale: {\n          emptyText: 'Directory is empty'\n        },\n        renderItem: item => /*#__PURE__*/React.createElement(ListFileItem, {\n          item: item,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 41\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      });\n    })));\n  }\n\n}\n\nexport default ListFiles;","map":{"version":3,"sources":["/Users/leelakrishnak/bhanuapp/src/ListFiles.jsx"],"names":["React","Component","getAllFiles","List","message","Typography","Button","Filters","ListFileItem","angleDoubleUp","Icon","Text","ListFiles","constructor","props","goBack","console","log","history","location","pathname","getData","args","setState","loading","then","response","data","catch","error","finally","state","homeDirectory","currentDirectory","componentDidMount","directory","render","files","marginRight","emptyText","item"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getAllFiles } from './api';\nimport { List, message, Typography, Button } from 'antd';\nimport './listfiles.css';\nimport Filters from './Filters';\nimport ListFileItem from './ListFileItem';\nimport { angleDoubleUp } from 'react-icons-kit/fa/angleDoubleUp';\nimport { Icon } from 'react-icons-kit';\n\nconst { Text } = Typography;\n\nclass ListFiles extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      loading: true,\n      homeDirectory: '/',\n      currentDirectory: '/',\n    };\n  }\n\n  goBack = () => {\n    console.log('GO BACK GO BACK', this.props);\n    this.props.history.goBack();\n    this.props.location.pathname = this.props.history.location.pathname;\n    //  window.location.reload();\n  };\n\n  componentDidMount() {\n    const {\n      location: { pathname },\n    } = this.props;\n\n    this.getData({ directory: pathname });\n  }\n\n  getData = (args) => {\n    this.setState({ loading: true });\n    getAllFiles(args)\n      .then((response) => {\n        console.log(response);\n        this.setState({ data: response.data });\n      })\n      .catch((error) => {\n        console.log(error);\n        message.error('Failed to fetch data');\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  render() {\n    const { loading, data } = this.state;\n    console.log(this.props);\n    const {\n      location: { pathname },\n    } = this.props;\n    return (\n      <>\n        <div className='list-container'>\n          <Filters data={data}>\n            {({ files }) => {\n              return (\n                <List\n                  size='small'\n                  header={\n                    <div>\n                      <Button\n                        shape='circle'\n                        onClick={this.goBack}\n                        icon={<Icon icon={angleDoubleUp} />}\n                        style={{ marginRight: '5px' }}\n                      />\n\n                      <Text type='secondary'>\n                        Current Directory: {pathname}\n                      </Text>\n                    </div>\n                  }\n                  bordered={true}\n                  loading={loading}\n                  dataSource={files}\n                  locale={{ emptyText: 'Directory is empty' }}\n                  renderItem={(item) => <ListFileItem item={item} />}\n                />\n              );\n            }}\n          </Filters>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default ListFiles;\n"]},"metadata":{},"sourceType":"module"}