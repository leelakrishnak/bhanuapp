{"ast":null,"code":"var _jsxFileName = \"/Users/leelakrishnak/bhanuapp/src/ListFiles.jsx\";\nimport React, { Component } from 'react';\nimport { getAllFiles } from './api';\nimport { List, message, Typography, Button } from 'antd';\nimport './listfiles.css';\nimport Filters from './Filters';\nimport ListFileItem from './ListFileItem';\nimport { angleDoubleUp } from 'react-icons-kit/fa/angleDoubleUp';\nimport { Icon } from 'react-icons-kit';\nconst {\n  Text\n} = Typography;\n\nclass ListFiles extends Component {\n  constructor(props) {\n    super(props);\n\n    this.goBack = ({\n      path\n    }) => {//console.log('GO BACK GO BACK', this.props);\n      //this.props.history.goBack();\n      // const { data } = this.props;\n    };\n\n    this.folderClicked = path => {\n      this.getData({\n        directory: path\n      });\n    };\n\n    this.getData = args => {\n      this.setState({\n        loading: true\n      });\n      getAllFiles(args).then(response => {\n        console.log(response);\n        this.setState({\n          data: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n        message.error('Failed to fetch data');\n      }).finally(() => {\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.state = {\n      data: [],\n      loading: true,\n      homeDirectory: '/',\n      currentDirectory: '/'\n    };\n  }\n\n  componentDidMount() {\n    const {\n      location: {\n        pathname\n      }\n    } = this.props;\n    this.getData({\n      directory: pathname\n    });\n  }\n\n  render() {\n    const {\n      loading,\n      data\n    } = this.state;\n    console.log(this.props);\n    const {\n      location: {\n        pathname\n      }\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Filters, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, ({\n      files\n    }) => {\n      return /*#__PURE__*/React.createElement(List, {\n        size: \"small\",\n        header: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          shape: \"circle\",\n          onClick: item => this.goBack(item),\n          icon: /*#__PURE__*/React.createElement(Icon, {\n            icon: angleDoubleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 31\n            }\n          }),\n          style: {\n            marginRight: '5px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 23\n          }\n        }), /*#__PURE__*/React.createElement(Text, {\n          type: \"secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 23\n          }\n        }, \"Current Directory: \", pathname)),\n        bordered: true,\n        loading: loading,\n        dataSource: files,\n        locale: {\n          emptyText: 'Directory is empty'\n        },\n        renderItem: item => /*#__PURE__*/React.createElement(ListFileItem, {\n          item: item,\n          folderClicked: this.folderClicked,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      });\n    })));\n  }\n\n}\n\nexport default ListFiles;","map":{"version":3,"sources":["/Users/leelakrishnak/bhanuapp/src/ListFiles.jsx"],"names":["React","Component","getAllFiles","List","message","Typography","Button","Filters","ListFileItem","angleDoubleUp","Icon","Text","ListFiles","constructor","props","goBack","path","folderClicked","getData","directory","args","setState","loading","then","response","console","log","data","catch","error","finally","state","homeDirectory","currentDirectory","componentDidMount","location","pathname","render","files","item","marginRight","emptyText"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getAllFiles } from './api';\nimport { List, message, Typography, Button } from 'antd';\nimport './listfiles.css';\nimport Filters from './Filters';\nimport ListFileItem from './ListFileItem';\nimport { angleDoubleUp } from 'react-icons-kit/fa/angleDoubleUp';\nimport { Icon } from 'react-icons-kit';\n\nconst { Text } = Typography;\n\nclass ListFiles extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      loading: true,\n      homeDirectory: '/',\n      currentDirectory: '/',\n    };\n  }\n\n  goBack = ({ path }) => {\n    //console.log('GO BACK GO BACK', this.props);\n    //this.props.history.goBack();\n    // const { data } = this.props;\n  };\n\n  folderClicked = (path) => {\n    this.getData({ directory: path });\n  };\n\n  componentDidMount() {\n    const {\n      location: { pathname },\n    } = this.props;\n\n    this.getData({ directory: pathname });\n  }\n\n  getData = (args) => {\n    this.setState({ loading: true });\n    getAllFiles(args)\n      .then((response) => {\n        console.log(response);\n        this.setState({ data: response.data });\n      })\n      .catch((error) => {\n        console.log(error);\n        message.error('Failed to fetch data');\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  render() {\n    const { loading, data } = this.state;\n    console.log(this.props);\n    const {\n      location: { pathname },\n    } = this.props;\n    return (\n      <>\n        <div className='list-container'>\n          <Filters data={data}>\n            {({ files }) => {\n              return (\n                <List\n                  size='small'\n                  header={\n                    <div>\n                      <Button\n                        shape='circle'\n                        onClick={(item) => this.goBack(item)}\n                        icon={<Icon icon={angleDoubleUp} />}\n                        style={{ marginRight: '5px' }}\n                      />\n\n                      <Text type='secondary'>\n                        Current Directory: {pathname}\n                      </Text>\n                    </div>\n                  }\n                  bordered={true}\n                  loading={loading}\n                  dataSource={files}\n                  locale={{ emptyText: 'Directory is empty' }}\n                  renderItem={(item) => (\n                    <ListFileItem\n                      item={item}\n                      folderClicked={this.folderClicked}\n                    />\n                  )}\n                />\n              );\n            }}\n          </Filters>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default ListFiles;\n"]},"metadata":{},"sourceType":"module"}