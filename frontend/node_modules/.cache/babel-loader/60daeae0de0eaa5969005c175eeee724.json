{"ast":null,"code":"var _jsxFileName = \"/Users/leelakrishnak/bhanuapp/src/ListFiles.jsx\";\nimport React, { Component } from 'react';\nimport { getAllFiles } from './api';\nimport { List, message, Typography, Button } from 'antd';\nimport './listfiles.css';\nimport Filters from './Filters';\nimport ListFileItem from './ListFileItem';\nimport { angleDoubleUp } from 'react-icons-kit/fa/angleDoubleUp';\nimport { Icon } from 'react-icons-kit';\nconst {\n  Text\n} = Typography;\n\nclass ListFiles extends Component {\n  constructor(props) {\n    super(props);\n\n    this.goBack = () => {\n      //console.log('GO BACK GO BACK', this.props);\n      //this.props.history.goBack();\n      // const { data } = this.props;\n      const {\n        currentDirectory\n      } = this.state;\n\n      if (currentDirectory.lastIndexOf('/') != -1) {\n        const path = currentDirectory.substr(0, currentDirectory.lastIndexOf('/') + 1);\n        this.getData({\n          directory: path\n        });\n      }\n    };\n\n    this.folderClicked = path => {\n      this.setState({\n        currentDirectory: path\n      });\n      this.getData({\n        directory: path\n      });\n    };\n\n    this.getData = args => {\n      this.setState({\n        loading: true\n      });\n      getAllFiles(args).then(response => {\n        console.log(response);\n        this.setState({\n          data: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n        message.error('Failed to fetch data');\n      }).finally(() => {\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.state = {\n      data: [],\n      loading: true,\n      homeDirectory: '/',\n      currentDirectory: '/'\n    };\n  }\n\n  componentDidMount() {\n    const {\n      location: {\n        pathname\n      }\n    } = this.props;\n    this.getData({\n      directory: pathname\n    });\n  }\n\n  render() {\n    const {\n      loading,\n      data\n    } = this.state;\n    console.log(this.props);\n    const {\n      location: {\n        pathname\n      }\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Filters, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, ({\n      files\n    }) => {\n      return /*#__PURE__*/React.createElement(List, {\n        size: \"small\",\n        header: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          shape: \"circle\",\n          onClick: this.goBack,\n          icon: /*#__PURE__*/React.createElement(Icon, {\n            icon: angleDoubleUp,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 31\n            }\n          }),\n          style: {\n            marginRight: '5px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 23\n          }\n        }), /*#__PURE__*/React.createElement(Text, {\n          type: \"secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 23\n          }\n        }, \"Current Directory: \", pathname)),\n        bordered: true,\n        loading: loading,\n        dataSource: files,\n        locale: {\n          emptyText: 'Directory is empty'\n        },\n        renderItem: item => /*#__PURE__*/React.createElement(ListFileItem, {\n          item: item,\n          folderClicked: this.folderClicked,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      });\n    })));\n  }\n\n}\n\nexport default ListFiles;","map":{"version":3,"sources":["/Users/leelakrishnak/bhanuapp/src/ListFiles.jsx"],"names":["React","Component","getAllFiles","List","message","Typography","Button","Filters","ListFileItem","angleDoubleUp","Icon","Text","ListFiles","constructor","props","goBack","currentDirectory","state","lastIndexOf","path","substr","getData","directory","folderClicked","setState","args","loading","then","response","console","log","data","catch","error","finally","homeDirectory","componentDidMount","location","pathname","render","files","marginRight","emptyText","item"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getAllFiles } from './api';\nimport { List, message, Typography, Button } from 'antd';\nimport './listfiles.css';\nimport Filters from './Filters';\nimport ListFileItem from './ListFileItem';\nimport { angleDoubleUp } from 'react-icons-kit/fa/angleDoubleUp';\nimport { Icon } from 'react-icons-kit';\n\nconst { Text } = Typography;\n\nclass ListFiles extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      loading: true,\n      homeDirectory: '/',\n      currentDirectory: '/',\n    };\n  }\n\n  goBack = () => {\n    //console.log('GO BACK GO BACK', this.props);\n    //this.props.history.goBack();\n    // const { data } = this.props;\n    const { currentDirectory } = this.state;\n\n    if (currentDirectory.lastIndexOf('/') != -1) {\n      const path = currentDirectory.substr(\n        0,\n        currentDirectory.lastIndexOf('/') + 1\n      );\n      this.getData({ directory: path });\n    }\n  };\n\n  folderClicked = (path) => {\n    this.setState({ currentDirectory: path });\n    this.getData({ directory: path });\n  };\n\n  componentDidMount() {\n    const {\n      location: { pathname },\n    } = this.props;\n\n    this.getData({ directory: pathname });\n  }\n\n  getData = (args) => {\n    this.setState({ loading: true });\n    getAllFiles(args)\n      .then((response) => {\n        console.log(response);\n        this.setState({ data: response.data });\n      })\n      .catch((error) => {\n        console.log(error);\n        message.error('Failed to fetch data');\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  render() {\n    const { loading, data } = this.state;\n    console.log(this.props);\n    const {\n      location: { pathname },\n    } = this.props;\n    return (\n      <>\n        <div className='list-container'>\n          <Filters data={data}>\n            {({ files }) => {\n              return (\n                <List\n                  size='small'\n                  header={\n                    <div>\n                      <Button\n                        shape='circle'\n                        onClick={this.goBack}\n                        icon={<Icon icon={angleDoubleUp} />}\n                        style={{ marginRight: '5px' }}\n                      />\n\n                      <Text type='secondary'>\n                        Current Directory: {pathname}\n                      </Text>\n                    </div>\n                  }\n                  bordered={true}\n                  loading={loading}\n                  dataSource={files}\n                  locale={{ emptyText: 'Directory is empty' }}\n                  renderItem={(item) => (\n                    <ListFileItem\n                      item={item}\n                      folderClicked={this.folderClicked}\n                    />\n                  )}\n                />\n              );\n            }}\n          </Filters>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default ListFiles;\n"]},"metadata":{},"sourceType":"module"}